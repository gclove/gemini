//This file compiles all JS into a main.js file for use by everything else
//@codekit-append 'vendor/Swipe/swipe.js'
//@codekit-append 'vendor/autosizer.js'
//@codekit-append 'vendor/jquery.quicksearch.js'
//@codekit-append 'global.js'
/* **********************************************
     Begin swipe.js
********************************************** *//*
 * Swipe 1.0
 *
 * Brad Birdsall, Prime
 * Copyright 2011, Licensed GPL & MIT
 *
*/window.Swipe=function(e,t){if(!e)return null;var n=this;this.options=t||{};this.index=this.options.startSlide||0;this.speed=this.options.speed||300;this.callback=this.options.callback||function(){};this.delay=this.options.auto||0;this.container=e;this.element=this.container.children[0];this.container.style.overflow="hidden";this.element.style.listStyle="none";this.element.style.margin=0;this.setup();this.begin();if(this.element.addEventListener){this.element.addEventListener("touchstart",this,!1);this.element.addEventListener("touchmove",this,!1);this.element.addEventListener("touchend",this,!1);this.element.addEventListener("touchcancel",this,!1);this.element.addEventListener("webkitTransitionEnd",this,!1);this.element.addEventListener("msTransitionEnd",this,!1);this.element.addEventListener("oTransitionEnd",this,!1);this.element.addEventListener("transitionend",this,!1);window.addEventListener("resize",this,!1)}};Swipe.prototype={setup:function(){this.slides=this.element.children;this.length=this.slides.length;if(this.length<2)return null;this.width=Math.ceil("getBoundingClientRect"in this.container?this.container.getBoundingClientRect().width:this.container.offsetWidth);if(!this.width)return null;this.container.style.visibility="hidden";this.element.style.width=Math.ceil(this.slides.length*this.width)+"px";var e=this.slides.length;while(e--){var t=this.slides[e];t.style.width=this.width+"px";t.style.display="table-cell";t.style.verticalAlign="top"}this.slide(this.index,0);this.container.style.visibility="visible"},slide:function(e,t){var n=this.element.style;t==undefined&&(t=this.speed);n.webkitTransitionDuration=n.MozTransitionDuration=n.msTransitionDuration=n.OTransitionDuration=n.transitionDuration=t+"ms";n.MozTransform=n.webkitTransform="translate3d("+ -(e*this.width)+"px,0,0)";n.msTransform=n.OTransform="translateX("+ -(e*this.width)+"px)";this.index=e},getPos:function(){return this.index},prev:function(e){this.delay=e||0;clearTimeout(this.interval);this.index&&this.slide(this.index-1,this.speed)},next:function(e){this.delay=e||0;clearTimeout(this.interval);this.index<this.length-1?this.slide(this.index+1,this.speed):this.slide(0,this.speed)},begin:function(){var e=this;this.interval=this.delay?setTimeout(function(){e.next(e.delay)},this.delay):0},stop:function(){this.delay=0;clearTimeout(this.interval)},resume:function(){this.delay=this.options.auto||0;this.begin()},handleEvent:function(e){switch(e.type){case"touchstart":this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchcancel":case"touchend":this.onTouchEnd(e);break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"transitionend":this.transitionEnd(e);break;case"resize":this.setup()}},transitionEnd:function(e){this.delay&&this.begin();this.callback(e,this.index,this.slides[this.index])},onTouchStart:function(e){this.start={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,time:Number(new Date)};this.isScrolling=undefined;this.deltaX=0;this.element.style.MozTransitionDuration=this.element.style.webkitTransitionDuration=0;e.stopPropagation()},onTouchMove:function(e){if(e.touches.length>1||e.scale&&e.scale!==1)return;this.deltaX=e.touches[0].pageX-this.start.pageX;typeof this.isScrolling=="undefined"&&(this.isScrolling=!!(this.isScrolling||Math.abs(this.deltaX)<Math.abs(e.touches[0].pageY-this.start.pageY)));if(!this.isScrolling){e.preventDefault();clearTimeout(this.interval);this.deltaX=this.deltaX/(!this.index&&this.deltaX>0||this.index==this.length-1&&this.deltaX<0?Math.abs(this.deltaX)/this.width+1:1);this.element.style.MozTransform=this.element.style.webkitTransform="translate3d("+(this.deltaX-this.index*this.width)+"px,0,0)";e.stopPropagation()}},onTouchEnd:function(e){var t=Number(new Date)-this.start.time<250&&Math.abs(this.deltaX)>20||Math.abs(this.deltaX)>this.width/2,n=!this.index&&this.deltaX>0||this.index==this.length-1&&this.deltaX<0;this.isScrolling||this.slide(this.index+(t&&!n?this.deltaX<0?1:-1:0),this.speed);e.stopPropagation()}};var AutoResizer=function(e,t){var n=this;this.$textArea=$(e);this.minHeight=this.$textArea.height();this.options=$.extend({},$.fn.autoResizer.defaults,t);this.$shadowArea=$("<div></div>").css({position:"absolute",top:-1e4,left:-1e4,fontSize:this.$textArea.css("fontSize")||"inherit",fontFamily:this.$textArea.css("fontFamily")||"inherit",lineHeight:this.$textArea.css("lineHeight")||"inherit",resize:"none"}).appendTo(document.body);var r=this.$textArea.width()||$(window).width();this.$shadowArea.width(r);if(this.options.resizeOnChange){function i(){window.setTimeout(function(){n.checkResize()},0)}this.$textArea.change(i).keyup(i).keydown(i).focus(i)}this.checkResize()};AutoResizer.prototype={constructor:AutoResizer,checkResize:function(){if(this.$textArea.height()===0)return;this.minHeight===0&&(this.minHeight=this.$textArea.height());this.$textArea.width()!==0&&Math.abs(this.$shadowArea.width()-this.$textArea.width())>20&&this.$shadowArea.width(this.$textArea.width());var e=this.$textArea.val().replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n/g,"<br/>&nbsp;");$.trim(e)===""&&(e="a");this.$shadowArea.html(e);var t=Math.max(this.$shadowArea[0].offsetHeight+10,this.minHeight);if(!this.prevHeight||t!=this.prevHeight){this.$textArea.css("height",t);this.prevHeight=t}}};$.fn.autoResizer=function(e){return this.each(function(){var t=$(this),n=t.data("autoresizer"),r=typeof e=="object"&&e;n||t.data("autoresizer",n=new AutoResizer(this,r));typeof e=="string"?n[e]():n.checkResize()})};$.fn.autoResizer.defaults={resizeOnChange:!0};$.fn.autoResizer.Constructor=AutoResizer;(function(e,t,n,r){e.fn.quicksearch=function(n,r){var i,s,o,u,a="",f=this,l=e.extend({delay:100,selector:null,stripeRows:null,loader:null,noResults:"",matchedResultsCount:0,bind:"keyup",onBefore:function(){return},onAfter:function(){return},show:function(){this.style.display=""},hide:function(){this.style.display="none"},prepareQuery:function(e){return e.toLowerCase().split(" ")},testQuery:function(e,t,n){for(var r=0;r<e.length;r+=1)if(t.indexOf(e[r])===-1)return!1;return!0}},r);this.go=function(){var e=0,t=0,n=!0,r=l.prepareQuery(a),i=a.replace(" ","").length===0;for(var e=0,u=o.length;e<u;e++)if(i||l.testQuery(r,s[e],o[e])){l.show.apply(o[e]);n=!1;t++}else l.hide.apply(o[e]);if(n)this.results(!1);else{this.results(!0);this.stripe()}this.matchedResultsCount=t;this.loader(!1);l.onAfter();return this};this.search=function(e){a=e;f.trigger()};this.currentMatchedResults=function(){return this.matchedResultsCount};this.stripe=function(){if(typeof l.stripeRows=="object"&&l.stripeRows!==null){var t=l.stripeRows.join(" "),n=l.stripeRows.length;u.not(":hidden").each(function(r){e(this).removeClass(t).addClass(l.stripeRows[r%n])})}return this};this.strip_html=function(t){var n=t.replace(new RegExp("<[^<]+>","g"),"");n=e.trim(n.toLowerCase());return n};this.results=function(t){typeof l.noResults=="string"&&l.noResults!==""&&(t?e(l.noResults).hide():e(l.noResults).show());return this};this.loader=function(t){typeof l.loader=="string"&&l.loader!==""&&(t?e(l.loader).show():e(l.loader).hide());return this};this.cache=function(){u=e(n);typeof l.noResults=="string"&&l.noResults!==""&&(u=u.not(l.noResults));var t=typeof l.selector=="string"?u.find(l.selector):e(n).not(l.noResults);s=t.map(function(){return f.strip_html(this.innerHTML)});o=u.map(function(){return this});a=a||this.val()||"";return this.go()};this.trigger=function(){this.loader(!0);l.onBefore();t.clearTimeout(i);i=t.setTimeout(function(){f.go()},l.delay);return this};this.cache();this.results(!0);this.stripe();this.loader(!1);return this.each(function(){e(this).on(l.bind,function(){a=e(this).val();f.trigger()})})}})(jQuery,this,document);(function(){"use strict";function e(){if(Modernizr.csstransforms){window.mySwipe=new Swipe(document.getElementById("slider"),{callback:function(e,r,i){t(r);n(r)}});$("#centralNav a").on("click",function(e){e.preventDefault();window.mySwipe.slide($(e.currentTarget).parent().index());t($(e.currentTarget).parent().index());n($(e.currentTarget).parent().index())})}else alert("Your browser is too old to navigate to a different subsection.");$("[rel=popover]").popover();$("textarea").autoResizer();$("input#filter").quicksearch(".filterable")}function t(e){$("#centralNav a").removeClass("active");$("#centralNav a").eq(e).addClass("active")}function n(e){var t=$("#positionIndicator");switch(e){case 0:t.animate({left:"0%"},250);break;case 1:t.animate({left:"34%"},250);break;case 2:t.animate({left:"68%"},250)}}$(function(){$("[data-method]").append(function(){return"\n<form action='"+$(this).attr("href")+"' method='POST' style='display:none'>\n"+"   <input type='hidden' name='_method' value='"+$(this).attr("data-method")+"'>\n"+"</form>\n"}).removeAttr("href").attr("style","cursor:pointer;color:#FFFFFF").attr("onclick",'$(this).find("form").submit();')});$(e)})();